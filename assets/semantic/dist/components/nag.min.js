!function(e,o,t,n){"use strict";o=void 0!==o&&o.Math==Math?o:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.nag=function(t){var n,i=e(this),s=i.selector||"",a=(new Date).getTime(),r=[],d=arguments[0],l="string"==typeof d,c=[].slice.call(arguments,1);return i.each(function(){var i,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.nag.settings,t):e.extend({},e.fn.nag.settings),u=(g.className,g.selector),m=g.error,f=g.namespace,p="."+f,h=f+"-module",v=e(this),b=(v.find(u.close),e(g.context?g.context:"body")),y=this,k=v.data(h);o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame;i={initialize:function(){i.verbose("Initializing element"),v.on("click"+p,u.close,i.dismiss).data(h,i),g.detachable&&v.parent()[0]!==b[0]&&v.detach().prependTo(b),g.displayTime>0&&setTimeout(i.hide,g.displayTime),i.show()},destroy:function(){i.verbose("Destroying instance"),v.removeData(h).off(p)},show:function(){i.should.show()&&!v.is(":visible")&&(i.debug("Showing nag",g.animation.show),"fade"==g.animation.show?v.fadeIn(g.duration,g.easing):v.slideDown(g.duration,g.easing))},hide:function(){i.debug("Showing nag",g.animation.hide),"fade"==g.animation.show?v.fadeIn(g.duration,g.easing):v.slideUp(g.duration,g.easing)},onHide:function(){i.debug("Removing nag",g.animation.hide),v.remove(),g.onHide&&g.onHide()},dismiss:function(e){g.storageMethod&&i.storage.set(g.key,g.value),i.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return g.persist?(i.debug("Persistent nag is set, can show nag"),!0):i.storage.get(g.key)!=g.value.toString()?(i.debug("Stored value is not set, can show nag",i.storage.get(g.key)),!0):(i.debug("Stored value is set, cannot show nag",i.storage.get(g.key)),!1)}},get:{storageOptions:function(){var e={};return g.expires&&(e.expires=g.expires),g.domain&&(e.domain=g.domain),g.path&&(e.path=g.path),e}},clear:function(){i.storage.remove(g.key)},storage:{set:function(t,n){var s=i.get.storageOptions();"localstorage"==g.storageMethod&&void 0!==o.localStorage?(o.localStorage.setItem(t,n),i.debug("Value stored using local storage",t,n)):"sessionstorage"==g.storageMethod&&void 0!==o.sessionStorage?(o.sessionStorage.setItem(t,n),i.debug("Value stored using session storage",t,n)):void 0!==e.cookie?(e.cookie(t,n,s),i.debug("Value stored using cookie",t,n,s)):i.error(m.noCookieStorage)},get:function(t,n){var s;return"localstorage"==g.storageMethod&&void 0!==o.localStorage?s=o.localStorage.getItem(t):"sessionstorage"==g.storageMethod&&void 0!==o.sessionStorage?s=o.sessionStorage.getItem(t):void 0!==e.cookie?s=e.cookie(t):i.error(m.noCookieStorage),"undefined"!=s&&"null"!=s&&void 0!==s&&null!==s||(s=void 0),s},remove:function(t){var n=i.get.storageOptions();"localstorage"==g.storageMethod&&void 0!==o.localStorage?o.localStorage.removeItem(t):"sessionstorage"==g.storageMethod&&void 0!==o.sessionStorage?o.sessionStorage.removeItem(t):void 0!==e.cookie?e.removeCookie(t,n):i.error(m.noStorage)}},setting:function(o,t){if(i.debug("Changing setting",o,t),e.isPlainObject(o))e.extend(!0,g,o);else{if(void 0===t)return g[o];e.isPlainObject(g[o])?e.extend(!0,g[o],t):g[o]=t}},internal:function(o,t){if(e.isPlainObject(o))e.extend(!0,i,o);else{if(void 0===t)return i[o];i[o]=t}},debug:function(){!g.silent&&g.debug&&(g.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,g.name+":"),i.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),i.verbose.apply(console,arguments)))},error:function(){g.silent||(i.error=Function.prototype.bind.call(console.error,console,g.name+":"),i.error.apply(console,arguments))},performance:{log:function(e){var o,t;g.performance&&(t=(o=(new Date).getTime())-(a||o),a=o,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":t})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,500)},display:function(){var o=g.name+":",t=0;a=!1,clearTimeout(i.performance.timer),e.each(r,function(e,o){t+=o["Execution Time"]}),o+=" "+t+"ms",s&&(o+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(o),console.table?console.table(r):e.each(r,function(e,o){console.log(o.Name+": "+o["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(o,t,s){var a,r,d,l=k;return t=t||c,s=y||s,"string"==typeof o&&void 0!==l&&(o=o.split(/[\. ]/),a=o.length-1,e.each(o,function(t,n){var s=t!=a?n+o[t+1].charAt(0).toUpperCase()+o[t+1].slice(1):o;if(e.isPlainObject(l[s])&&t!=a)l=l[s];else{if(void 0!==l[s])return r=l[s],!1;if(!e.isPlainObject(l[n])||t==a)return void 0!==l[n]?(r=l[n],!1):(i.error(m.method,o),!1);l=l[n]}})),e.isFunction(r)?d=r.apply(s,t):void 0!==r&&(d=r),e.isArray(n)?n.push(d):void 0!==n?n=[n,d]:void 0!==d&&(n=d),r}},l?(void 0===k&&i.initialize(),i.invoke(d)):(void 0!==k&&k.invoke("destroy"),i.initialize())}),void 0!==n?n:this},e.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,o,t,n,i){return-n*(o/=i)*(o-2)+t}})}(jQuery,window,document);